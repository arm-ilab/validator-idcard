<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ID Card Lookup</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap 5.3 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    :root{
      --green-dark: #0f5f3a;    /* dominant dark green */
      --green-mid:  #13924f;
      --green-light:#bff0c9;    /* soft light green */
      --muted: #6b7a70;
      --card-bg: rgba(255,255,255,0.95);
    }

    *{ box-sizing: border-box; }
    body{
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      margin:0;
      min-height:100vh;
      background: linear-gradient(135deg, rgba(16,90,47,0.12) 0%, rgba(191,240,201,0.12) 40%, rgba(255,255,255,0.06) 100%), url('') no-repeat center/cover;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:40px 20px;
      color: #213022;
    }

    .container-card{
      width:100%;
      max-width:980px;
    }

    .card-custom{
      background: linear-gradient(180deg, rgba(255,255,255,0.98), var(--card-bg));
      border-radius:18px;
      box-shadow: 0 10px 30px rgba(10,40,20,0.12), inset 0 1px 0 rgba(255,255,255,0.6);
      overflow:hidden;
      padding:28px;
      border: 1px solid rgba(15,95,58,0.08);
    }

    .header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:12px;
    }

    .brand-badge{
      display:inline-grid;
      place-items:center;
      width:56px;
      height:56px;
      border-radius:12px;
      background: linear-gradient(135deg, var(--green-mid), var(--green-dark));
      color: white;
      font-weight:700;
      box-shadow: 0 6px 18px rgba(15,95,58,0.18);
    }

    h1.title{
      font-size:1.35rem;
      margin:0;
      color:var(--green-dark);
      letter-spacing: -0.2px;
    }
    p.subtitle{
      margin:0;
      color:var(--muted);
      font-size:0.92rem;
    }

    .card-body{
      display:flex;
      gap:24px;
      align-items:center;
      margin-top:18px;
      flex-wrap:wrap;
    }

    /* Photo */
    .photo-wrap{
      flex: 0 0 220px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .profile-img{
      width:190px;
      height:190px;
      object-fit:cover;
      border-radius:18px;
      box-shadow: 0 10px 30px rgba(15,95,58,0.14);
      border:6px solid transparent;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      position:relative;
      overflow:hidden;
    }

    .profile-frame{
      padding:6px;
      border-radius:22px;
      background: linear-gradient(135deg, var(--green-dark), var(--green-mid));
      display:inline-block;
    }

    .fallback{
      width:100%;
      height:100%;
      display:grid;
      place-items:center;
      color: white;
      font-weight:600;
      font-size:clamp(14px,2.4vw,20px);
      background: linear-gradient(135deg, var(--green-mid), var(--green-dark));
    }

    /* Info column */
    .info-col{
      flex: 1 1 420px;
      min-width:260px;
    }

    .info-row{
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:12px;
      flex-wrap:wrap;
    }

    .info-title{
      font-weight:600;
      color:var(--green-dark);
      display:flex;
      align-items:center;
      gap:8px;
      min-width:130px;
    }

    .info-value{
      font-size:1rem;
      color:#224b36;
      background: linear-gradient(90deg, rgba(191,240,201,0.28), rgba(15,95,58,0.02));
      padding:10px 14px;
      border-radius:10px;
      flex:1 1 auto;
      word-break:break-word;
      box-shadow: 0 4px 14px rgba(10,40,20,0.04);
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(15,95,58,0.08), rgba(19,146,79,0.06));
      color:var(--green-dark);
      font-weight:600;
      font-size:0.9rem;
    }

    .actions{
      margin-top:14px;
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }

    .btn-primary-custom{
      background: linear-gradient(90deg, var(--green-dark), var(--green-mid));
      border: none;
      color: white;
      box-shadow: 0 8px 22px rgba(15,95,58,0.18);
    }

    .btn-outline-custom{
      border: 1px solid rgba(15,95,58,0.12);
      color: var(--green-dark);
      background: rgba(255,255,255,0.6);
    }

    .error{
      margin-top:18px;
      color: #9b2b2b;
      display:flex;
      gap:8px;
      align-items:center;
      font-weight:600;
    }

    /* responsive tweaks */
    @media (max-width:720px){
      .profile-img{ width:150px; height:150px; }
      .photo-wrap{ flex-basis:160px; }
      .info-title{ min-width:100px; }
    }
  </style>
</head>
<body>
  <div class="container container-card">
    <div class="card-custom">
      <div class="header">
        <div class="brand-badge">ID</div>
        <div>
          <h1 class="title">Data ID Card</h1>
          <p class="subtitle">Cari dan verifikasi data kartu identitas dengan cepat & aman</p>
        </div>
      </div>

      <div class="card-body">
        <!-- PHOTO -->
        <div class="photo-wrap">
          <div class="profile-frame">
            <img id="photo" class="profile-img" src="" alt="Foto Profil" onerror="this.style.display='none'; this.nextElementSibling.style.display='grid'">
            <div class="fallback" style="display:none;" aria-hidden="true">
              <i class="bi bi-person-circle" style="font-size:1.6rem; opacity:0.95;"></i>
            </div>
          </div>
        </div>

        <!-- DATA -->
        <div class="info-col">
          <div class="info-row">
            <div class="info-title"><i class="bi bi-person-fill" style="color:var(--green-mid)"></i> Nama:</div>
            <div class="info-value" id="name">-</div>
          </div>

          <div class="info-row">
            <div class="info-title"><i class="bi bi-card-text" style="color:var(--green-mid)"></i> ID Number:</div>
            <div class="info-value d-flex align-items-center justify-content-between gap-2">
              <span id="idnum">-</span>
              <div>
                <button class="btn btn-sm btn-outline-custom" id="copyIdBtn" title="Salin ID"><i class="bi bi-clipboard"></i> Salin</button>
              </div>
            </div>
          </div>

          <div class="info-row">
            <div class="info-title"><i class="bi bi-info-circle-fill" style="color:var(--green-mid)"></i> Informasi:</div>
            <div class="info-value" id="info">-</div>
          </div>

          <div class="actions">
            <!--span class="chip"><i class="bi bi-shield-lock" style="color:var(--green-dark)"></i> Aman & terenkripsi</span-->
            <button class="btn btn-primary btn-primary-custom" id="refreshBtn"><i class="bi bi-arrow-clockwise"></i> Refresh</button>
            <!--button class="btn btn-sm btn-outline-custom" id="downloadBtn"><i class="bi bi-download"></i> Unduh PDF</button-->
          </div>

          <div id="error" class="error" style="display:none;"><i class="bi bi-exclamation-triangle-fill"></i><span id="errorText"></span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- keep original script.js reference (preserves existing behavior) -->
  <script>
    // Small UX helpers to keep UI polished even if script.js is empty/non-existent
    (function(){
      const copyBtn = document.getElementById('copyIdBtn');
      const refreshBtn = document.getElementById('refreshBtn');
      const downloadBtn = document.getElementById('downloadBtn');

      copyBtn?.addEventListener('click', async () => {
        const id = document.getElementById('idnum').textContent || '';
        try{
          await navigator.clipboard.writeText(id);
          copyBtn.innerHTML = '<i class="bi bi-clipboard-check"></i> Disalin';
          setTimeout(()=> copyBtn.innerHTML = '<i class="bi bi-clipboard"></i> Salin', 1400);
        }catch(e){
          copyBtn.innerHTML = '<i class="bi bi-clipboard-x"></i> Gagal';
          setTimeout(()=> copyBtn.innerHTML = '<i class="bi bi-clipboard"></i> Salin', 1400);
        }
      });

      refreshBtn?.addEventListener('click', () => {
        // If user has an existing script.js it can hook into "refreshData" global function.
        // Otherwise we show a subtle animation as placeholder.
        if(typeof window.refreshData === 'function'){
          window.refreshData();
        }else{
          refreshBtn.classList.add('btn-loading');
          refreshBtn.innerHTML = '<i class="bi bi-arrow-clockwise bi-spin"></i> Memuat...';
          setTimeout(()=>{
            refreshBtn.innerHTML = '<i class="bi bi-arrow-clockwise"></i> Refresh';
            refreshBtn.classList.remove('btn-loading');
          }, 900);
        }
      });

      downloadBtn?.addEventListener('click', () => {
        // Hook point for an existing script to implement PDF download.
        if(typeof window.downloadIdPdf === 'function'){
          window.downloadIdPdf();
        }else{
          downloadBtn.innerHTML = '<i class="bi bi-download"></i> Menyiapkan...';
          setTimeout(()=> downloadBtn.innerHTML = '<i class="bi bi-download"></i> Unduh PDF', 800);
        }
      });

      // Make fallback image visible if photo is empty
      const img = document.getElementById('photo');
      if(img && (!img.src || img.src.trim() === '')){
        img.style.display = 'none';
        const fallback = img && img.nextElementSibling;
        if(fallback) fallback.style.display = 'grid';
      }
    })();
  </script>

  <!-- preserve reference to external script (if repository has script.js) -->
  <script src="script.js" defer></script>
</body>
</html>
